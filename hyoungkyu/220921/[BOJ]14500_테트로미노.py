# 골드4 / 5784ms
import sys
input = lambda:sys.stdin.readline().strip()

N, M = map(int, input().split())
lst = [list(map(int, input().split())) for _ in range(N)]
D = {0:[[0, 1], [0, 2], [0, 3]],
     1:[[1, 0], [2, 0], [3, 0]],
     2:[[0, 1], [1, 0], [1, 1]],
     3:[[1, 0], [2, 0], [2, 1]],
     4:[[1, 0], [0, 1], [0, 2]],
     5:[[0, 1], [1, 1], [2, 1]],
     6:[[0, 1], [0, 2], [-1, 2]],
     7:[[0, 1], [1, 0], [2, 0]],
     8:[[0, 1], [0, 2], [1, 2]],
     9:[[1, 0], [2, 0], [2, -1]],
     10:[[1, 0], [1, 1], [1, 2]],
     11:[[1, 0], [1, 1], [2, 1]],
     12:[[0, 1], [-1, 1], [-1, 2]],
     13:[[0, 1], [1, 1], [1, 2]],
     14:[[1, 0], [1, -1], [2, -1]],
     15:[[0, 1], [1, 1], [0, 2]],
     16:[[0, 1], [-1, 1], [1, 1]],
     17:[[0, 1], [-1, 1], [0, 2]],
     18:[[1, 0], [2, 0], [1, 1]],
     }

maxV = 0
for i in range(N):
    for j in range(M):
        for k in range(19):
            tmp = lst[i][j]
            for di, dj in D[k]:
                if 0<=i+di<N and 0<=j+dj<M:
                    tmp += lst[i+di][j+dj]
                else:
                    tmp = 0
                    break
            if maxV < tmp:
                maxV = tmp
print(maxV)